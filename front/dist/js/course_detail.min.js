function CourseDetail(){}CourseDetail.prototype.initPlayer=function(){var e=$("#video-info"),t=e.attr("data-video-url"),o=e.attr("data-cover-url"),a=e.attr("data-course-id"),n=cyberplayer("playercontainer").setup({width:"100%",height:"100%",file:t,image:o,autostart:!1,stretching:"uniform",repeat:!1,volume:100,controls:!0,tokenEncrypt:!0,ak:"3e81821d36154081b92f56ee5d848e3a"});n.on("beforePlay",function(o){/m3u8/.test(o.file)&&myajax.get({url:"/course/course_token/",data:{video:t,course_id:a},success:function(e){var t;200===e.code?(t=e.data.token,n.setToken(o.file,t)):(window.messageBox.showInfo(e.message),n.stop())},fail:function(e){console.log(e)}})})},CourseDetail.prototype.run=function(){this.initPlayer()},$(function(){(new CourseDetail).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY291cnNlX2RldGFpbC5taW4uanMiLCJzb3VyY2VzIjpbImNvdXJzZV9kZXRhaWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gQ291cnNlRGV0YWlsKCkge1xyXG59XHJcblxyXG5Db3Vyc2VEZXRhaWwucHJvdG90eXBlLmluaXRQbGF5ZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgdmlkZW9JbmZvU3BhbiA9ICQoXCIjdmlkZW8taW5mb1wiKTtcclxuICAgIHZhciB2aWRlb191cmwgPSB2aWRlb0luZm9TcGFuLmF0dHIoXCJkYXRhLXZpZGVvLXVybFwiKTtcclxuICAgIHZhciBjb3Zlcl91cmwgPSB2aWRlb0luZm9TcGFuLmF0dHIoXCJkYXRhLWNvdmVyLXVybFwiKTtcclxuICAgIHZhciBjb3Vyc2VfaWQgPSB2aWRlb0luZm9TcGFuLmF0dHIoJ2RhdGEtY291cnNlLWlkJyk7XHJcblxyXG4gICAgdmFyIHBsYXllciA9IGN5YmVycGxheWVyKFwicGxheWVyY29udGFpbmVyXCIpLnNldHVwKHtcclxuICAgICAgICAgICAgd2lkdGg6ICcxMDAlJyxcclxuICAgICAgICAgICAgaGVpZ2h0OiAnMTAwJScsXHJcbiAgICAgICAgICAgIGZpbGU6IHZpZGVvX3VybCxcclxuICAgICAgICAgICAgaW1hZ2U6IGNvdmVyX3VybCxcclxuICAgICAgICAgICAgYXV0b3N0YXJ0OiBmYWxzZSxcclxuICAgICAgICAgICAgc3RyZXRjaGluZzogXCJ1bmlmb3JtXCIsXHJcbiAgICAgICAgICAgIHJlcGVhdDogZmFsc2UsXHJcbiAgICAgICAgICAgIHZvbHVtZTogMTAwLFxyXG4gICAgICAgICAgICBjb250cm9sczogdHJ1ZSxcclxuICAgICAgICAgICAgdG9rZW5FbmNyeXB0OiB0cnVlLFxyXG4gICAgICAgICAgICAvLyBBY2Nlc3NLZXlcclxuICAgICAgICAgICAgYWs6ICczZTgxODIxZDM2MTU0MDgxYjkyZjU2ZWU1ZDg0OGUzYSdcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcGxheWVyLm9uKCdiZWZvcmVQbGF5JyxmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBpZighL20zdTgvLnRlc3QoZS5maWxlKSl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbXlhamF4LmdldCh7XHJcbiAgICAgICAgICAgICAgICAndXJsJzogJy9jb3Vyc2UvY291cnNlX3Rva2VuLycsXHJcbiAgICAgICAgICAgICAgICAnZGF0YSc6IHtcclxuICAgICAgICAgICAgICAgICAgICAndmlkZW8nOiB2aWRlb191cmwsXHJcbiAgICAgICAgICAgICAgICAgICAgJ2NvdXJzZV9pZCc6IGNvdXJzZV9pZFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICdzdWNjZXNzJzogZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHJlc3VsdFsnY29kZSddID09PSAyMDApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdG9rZW4gPSByZXN1bHRbJ2RhdGEnXVsndG9rZW4nXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyLnNldFRva2VuKGUuZmlsZSx0b2tlbik7XHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5tZXNzYWdlQm94LnNob3dJbmZvKHJlc3VsdFsnbWVzc2FnZSddKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgJ2ZhaWwnOiBmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG59O1xyXG5cclxuQ291cnNlRGV0YWlsLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB0aGlzLmluaXRQbGF5ZXIoKTtcclxufTtcclxuXHJcblxyXG4kKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBjb3Vyc2VEZXRhaWwgPSBuZXcgQ291cnNlRGV0YWlsKCk7XHJcbiAgICBjb3Vyc2VEZXRhaWwucnVuKCk7XHJcbn0pO1xyXG4iXSwibmFtZXMiOlsiQ291cnNlRGV0YWlsIiwicHJvdG90eXBlIiwiaW5pdFBsYXllciIsInZpZGVvSW5mb1NwYW4iLCIkIiwidmlkZW9fdXJsIiwiYXR0ciIsImNvdmVyX3VybCIsImNvdXJzZV9pZCIsInBsYXllciIsImN5YmVycGxheWVyIiwic2V0dXAiLCJ3aWR0aCIsImhlaWdodCIsImZpbGUiLCJpbWFnZSIsImF1dG9zdGFydCIsInN0cmV0Y2hpbmciLCJyZXBlYXQiLCJ2b2x1bWUiLCJjb250cm9scyIsInRva2VuRW5jcnlwdCIsImFrIiwib24iLCJlIiwidGVzdCIsIm15YWpheCIsImdldCIsInVybCIsImRhdGEiLCJ2aWRlbyIsInN1Y2Nlc3MiLCJyZXN1bHQiLCJ0b2tlbiIsInNldFRva2VuIiwid2luZG93IiwibWVzc2FnZUJveCIsInNob3dJbmZvIiwic3RvcCIsImZhaWwiLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJydW4iLCJ0aGlzIl0sIm1hcHBpbmdzIjoiQUFBQSxTQUFTQSxnQkFHVEEsYUFBYUMsVUFBVUMsV0FBYSxXQUNoQyxJQUFJQyxFQUFnQkMsRUFBRSxlQUNsQkMsRUFBWUYsRUFBY0csS0FBSyxrQkFDL0JDLEVBQVlKLEVBQWNHLEtBQUssa0JBQy9CRSxFQUFZTCxFQUFjRyxLQUFLLGtCQUUvQkcsRUFBU0MsWUFBWSxtQkFBbUJDLE1BQU0sQ0FDMUNDLE1BQU8sT0FDUEMsT0FBUSxPQUNSQyxLQUFNVCxFQUNOVSxNQUFPUixFQUNQUyxXQUFXLEVBQ1hDLFdBQVksVUFDWkMsUUFBUSxFQUNSQyxPQUFRLElBQ1JDLFVBQVUsRUFDVkMsY0FBYyxFQUVkQyxHQUFJLHFDQUdSYixFQUFPYyxHQUFHLGFBQWEsU0FBVUMsR0FDekIsT0FBT0MsS0FBS0QsRUFBRVYsT0FHbEJZLE9BQU9DLElBQUksQ0FDUEMsSUFBTyx3QkFDUEMsS0FBUSxDQUNKQyxNQUFTekIsRUFDVEcsVUFBYUEsR0FFakJ1QixRQUFXLFNBQVVDLEdBQ2pCLElBQ1FDLEVBRGMsTUFBbkJELEVBQWEsTUFDUkMsRUFBUUQsRUFBYSxLQUFTLE1BQ2xDdkIsRUFBT3lCLFNBQVNWLEVBQUVWLEtBQUttQixLQUV2QkUsT0FBT0MsV0FBV0MsU0FBU0wsRUFBZ0IsU0FDM0N2QixFQUFPNkIsU0FHZkMsS0FBUSxTQUFVQyxHQUNkQyxRQUFRQyxJQUFJRixTQU1oQ3hDLGFBQWFDLFVBQVUwQyxJQUFNLFdBQ3pCQyxLQUFLMUMsY0FJVEUsRUFBRSxZQUNxQixJQUFJSixjQUNWMkMifQ==
